{% extends 'base.html' %}
{% load static %}
{% block title %}所有课程列表{% endblock %}
{% block custom_bread %}
<section>
    <div class="wp">
        <ul  class="crumbs">
            <li><a href="{% url 'index' %}">首页</a>></li>
            <li>所有课程</li>
        </ul>
    </div>
</section>
{% endblock %}

{% block content %}
<section>
	<div class="wp">
		<div class="list" style="margin-top:0;">
			<div class="layout">
				<div class="head">
					<ul class="tab_header">
						<li class="{% if sort_type == '' %}active{% endif %}"><a href="?sort=">最新发布 </a></li>
						<li class="{% if sort_type == 'hot' %}active{% endif %}"><a href="?sort=hot">最多收藏</a></li>
						<li class="{% if sort_type == 'students' %}active{% endif %}"><a href="?sort=students">学习人数</a></li>
					</ul>
				</div>
                <div id="inWindow">
                    <div class="tab_cont " id="content">
					    <div class="group_list">
							{% for course in page_obj %}
								<div class="box">
									<a href="{% url 'course:detail' course.id %}">
										<img width="280" height="350" class="scrollLoading" src="{{ MEDIA_URL }}{{ course.cover_img }}"/>
									</a>
									<div class="des">
										<a href="{% url 'course:detail' course.id %}">
											<h2>{{ course.name }}</h2>
										</a>
										<span class="fl">时长：<i class="key">{{ course.duration }}分钟</i></span>
										<span class="fr">学习人数：{{ course.stu_num }}&nbsp;</span>
									</div>
									<div class="bottom">
										<a href="course-detail.html"><span class="fl">来自{{ course.teacher.org.name }}</span></a>
										<span class="star fr  notlogin
											" data-favid="15">
											{{ course.fav_num }}
										</span>
									</div>
								</div>
							{% endfor %}
					    </div>
						<div class="pagination">
							<span class="step-links">
								{% if page_obj.has_previous %}
									<a href="?sort={{ sort_type }}&page=1">&laquo; first</a>
									<a href="?sort={{ sort_type }}&page={{ page_obj.previous_page_number }}">previous</a>
								{% endif %}

								<span class="current">
									Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
								</span>

								{% if page_obj.has_next %}
									<a href="?sort={{ sort_type }}&page={{ page_obj.next_page_number }}">next</a>
									<a href="?sort={{ sort_type }}&page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
								{% endif %}
							</span>
						</div>
				    </div>
                </div>
			</div>
<!--			<div class="right layout">-->
<!--				<div class="head">热门课程推荐</div>-->
<!--				<div class="group_recommend">-->

<!--                    <dl>-->
<!--						<dt>-->
<!--							<a target="_blank" href="">-->
<!--								<img width="240" height="220" class="scrollLoading" src="../media/courses/2016/11/540e57300001d6d906000338-240-135_n0L8vbw.jpg"/>-->
<!--							</a>-->
<!--						</dt>-->
<!--						<dd>-->
<!--							<a target="_blank" href=""><h2> django与vuejs实战项目2</h2></a>-->
<!--							<span class="fl">难度：<i class="key">高级</i></span>-->
<!--						</dd>-->
<!--					</dl>-->

<!--                    <dl>-->
<!--						<dt>-->
<!--							<a target="_blank" href="">-->
<!--								<img width="240" height="220" class="scrollLoading" src="../media/courses/2016/12/python面向对象.jpg"/>-->
<!--							</a>-->
<!--						</dt>-->
<!--						<dd>-->
<!--							<a target="_blank" href=""><h2> python面向对象</h2></a>-->
<!--							<span class="fl">难度：<i class="key">中级</i></span>-->
<!--						</dd>-->
<!--					</dl>-->

<!--                    <dl>-->
<!--						<dt>-->
<!--							<a target="_blank" href="">-->
<!--								<img width="240" height="220" class="scrollLoading" src="../media/courses/2016/12/python文件处理.jpg"/>-->
<!--							</a>-->
<!--						</dt>-->
<!--						<dd>-->
<!--							<a target="_blank" href=""><h2> python文件处理</h2></a>-->
<!--							<span class="fl">难度：<i class="key">中级</i></span>-->
<!--						</dd>-->
<!--					</dl>-->

<!--				</div>-->
<!--			</div>-->
		</div>
    </div>
</section>
{% endblock %}
